***********************************************************************
*     サンプル sypack-test について                 最終更新 2019/02/11
***********************************************************************
-----------------------------------------------------------------------
・概要
-----------------------------------------------------------------------

  このサンプルプログラムは, SYPACK 中の変換ルーチンのテストをするための
プログラムである. 各処理系においてインストールがうまくいっているかどうか
や, 並列化効率のチェックなどに利用されたい.

-----------------------------------------------------------------------
・構成
-----------------------------------------------------------------------

  - test.f90: SYPACK 内での逆変換と正変換のテスト. 速度チェックも兼ねる.
  - testv.f90: SYPACK 内での2個同時の逆変換と正変換のテスト. 速度チェック
              も兼ねる.  
  - test2.f90: SYPACK 内での緯度微分や経度微分を含む逆変換と正変換のテスト. 
  - testk.f90: SYPACK 内での多層用変換のテスト. 速度チェックも兼ねる.
               (MPIのプロセス数を, 内部で設定されている NDVの値以上にすること).

なお, SSE=avx または SSE=fma として ISPACK をインストールした場合, いくつ
かの配列を 32バイトアライメントしなければならない. 同様に, SSE=avx512 と
した場合, いくつかの配列を 64バイトアライメントしなければならない. 
それをコンパイラが自動的にやってくれない場合に対応して, MXPACKを用いた
メモリ割り当てを行なっている.

-----------------------------------------------------------------------
・使用方法
-----------------------------------------------------------------------

 Makefile中のマクロ定義を自分の環境に合せて適当に修正し, 

  % make (プログラム名).out

によって実行型ファイルができるので, それを実行すること. 
test.f90 を実行したい場合には,

 % make test.out
 % mpirun -np 4 ./test.out 
 % ./test.out

などとすること. ここで, MPIの実行コマンドの部分 "mpirun -np 4" は
処理系に合わせて適切なものを使うこと. また, SUPACKは, OpenMPも用いた
ハイブリッド並列化をしてあるが, OpenMP のスレッド数を指定するためには,
事前に

 % export OMP_NUM_THREADS=4
 
などとしておく必要がある(さらに, ifort を使っている場合には, ifort の
バージョンによっては ulimit -s 1000000000 などとしてスタックサイズの
上限を広げておく必要がある場合がある).
